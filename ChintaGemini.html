<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chinta ‚Ä¢ One click. A dopamine hit.</title>
  <meta name="description" content="Chinta is a tiny, offline, privacy‚Äëfirst page that helps you shift a looping thought into new perspectives in one click, now with automatic language detection and AI-powered shifts." />
  <meta name="theme-color" content="#111827" />
  
  <!-- Google AdSense Code -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9180537637925365"
     crossorigin="anonymous"></script>

  <style>
    /* Reset */
    *{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:#0b1220;background:#0b0f19}

    /* Animated neural gradient background */
    .bg{position:fixed;inset:0;z-index:-1;overflow:hidden;background:radial-gradient(1200px 800px at 20% 10%, #7dd3fc22, transparent),
      radial-gradient(1000px 700px at 80% 90%, #a78bfa22, transparent),
      radial-gradient(900px 900px at 50% 50%, #34d39922, transparent)}
    .bg::before{content:"";position:absolute;inset:-20%;
      background:conic-gradient(from 0deg, #a78bfa11, #60a5fa11, #34d39911, #f472b611, #f59e0b11, #a78bfa11);
      filter:blur(60px);animation:spin 28s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Layout */
    .wrap{min-height:100%;display:grid;place-items:center;padding:24px}
    .card{width:min(920px,100%);background:rgba(255,255,255,0.08);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.15);border-radius:24px;padding:28px 24px;box-shadow:0 10px 40px rgba(0,0,0,0.35)}

    /* Logo and taglines */
    .logo{display:flex;align-items:center;gap:12px;margin:0 0 8px 0}
    .logo .mark{width:36px;height:36px;border-radius:8px;display:grid;place-items:center;color:#fff;background:linear-gradient(135deg,#22d3ee,#a78bfa);box-shadow:0 8px 24px rgba(99,102,241,0.45)}
    .logo .name{font-weight:800;letter-spacing:0.5px;color:#e5e7eb;font-size:1.25rem}
    .tag-main{font-size:clamp(1.4rem, 1.2rem + 1.4vw, 2.2rem);font-weight:800;color:#fafafa;margin:6px 0 2px 0;text-shadow:0 2px 14px rgba(255,255,255,0.15)}
    .tag-sub{font-size:clamp(1rem, 0.9rem + .6vw, 1.25rem);color:#d1d5db;margin:2px 0 18px 0}
    .dopamine{background:linear-gradient(90deg,#22d3ee,#60a5fa,#a78bfa,#f472b6,#f59e0b,#34d399);-webkit-background-clip:text;background-clip:text;color:transparent;animation:shine 4.6s linear infinite}
    @keyframes shine{0%{background-position:0%}100%{background-position:200%}}

    /* Input area */
    .input{position:relative;margin:14px 0 12px 0}
    textarea{width:100%;min-height:120px;border-radius:16px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.06);color:#f8fafc;padding:18px 16px;font-size:1.05rem;line-height:1.5;outline:none;transition:border .2s}
    textarea:focus{border-color:#93c5fd}

    /* Controls */
    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between;margin-top:12px}
    .controls-main { display: flex; gap: 10px; }
    .mode{display:flex;gap:8px;flex-wrap:wrap}
    .pill{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.06);color:#e5e7eb;font-weight:600;cursor:pointer;user-select:none}
    .pill[aria-pressed="true"]{background:linear-gradient(135deg,#60a5fa,#a78bfa);border-color:transparent}

    .btn{appearance:none;border:0;border-radius:14px;padding:14px 18px;font-weight:800;letter-spacing:.3px;color:#0b0f19;background:linear-gradient(135deg,#22d3ee,#a78bfa);box-shadow:0 12px 30px rgba(99,102,241,0.45), inset 0 -2px 0 rgba(0,0,0,0.15);cursor:pointer}
    .btn:active{transform:translateY(1px)}
    .gemini-btn {
      background: linear-gradient(135deg, #f59e0b, #f472b6);
      box-shadow: 0 12px 30px rgba(244, 114, 182, 0.45), inset 0 -2px 0 rgba(0,0,0,0.15);
    }

    /* Output bubbles */
    .outputs{display:grid;gap:10px;margin-top:18px}
    .bubble{position:relative;padding:16px 44px 16px 16px;border-radius:16px;border:1px solid rgba(255,255,255,0.16);background:rgba(255,255,255,0.07);color:#f3f4f6;opacity:0;transform:translateY(8px);animation:pop .5s ease forwards}
    .bubble[dir="rtl"] { text-align: right; }
    .bubble.gemini {
      border-color: rgba(244, 114, 182, 0.5);
      background: radial-gradient(circle at top left, rgba(244, 114, 182, 0.15), transparent 60%);
    }
    .bubble:nth-child(1){animation-delay:.06s}
    .bubble:nth-child(2){animation-delay:.12s}
    .bubble:nth-child(3){animation-delay:.18s}
    @keyframes pop{to{opacity:1;transform:none}}
    .bubble .pin{position:absolute;top:8px;right:8px;width:28px;height:28px;border-radius:8px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.05);display:grid;place-items:center;cursor:pointer}
    .bubble[dir="rtl"] .pin { right: auto; left: 8px; }
    .hint{font-size:.9rem;color:#cbd5e1;margin-top:8px}

    /* Loader */
    .loader { text-align: center; color: #cbd5e1; font-size: 0.9rem; display: none; margin-top: 18px; }

    /* Crisis panel */
    .crisis{padding:16px;border-radius:16px;border:1px solid #ef4444;background:#7f1d1d33;color:#fecaca}
    .crisis a{color:#fde68a}

    /* Footer */
    footer{margin-top:22px;display:flex;gap:14px;flex-wrap:wrap;align-items:center;justify-content:center;color:#a1a1aa}
    footer a{color:#c7d2fe;text-decoration:none;border-bottom:1px dotted rgba(199,210,254,0.5)}

    /* Modals */
    html{scroll-behavior:smooth}
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:24px;z-index:50}
    .modal.open{display:flex}
    .backdrop{position:absolute;inset:0;background:rgba(8,11,19,0.65);backdrop-filter:blur(2px)}
    .modal-card{position:relative;width:min(820px,100%);border-radius:18px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.07);box-shadow:0 18px 60px rgba(0,0,0,0.5);padding:20px}
    .modal-card h2{margin:0 0 8px 0;font-size:clamp(1.15rem, 1rem + .6vw, 1.35rem);color:#fafafa}
    .modal-card p{margin:8px 0;color:#e5e7eb;line-height:1.7}
    .modal-card a{color:#93c5fd;text-decoration:none;border-bottom:1px dotted rgba(147,197,253,0.6)}
    .closex{position:absolute;top:10px;right:10px;display:inline-grid;place-items:center;width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.06);color:#e5e7eb;cursor:pointer}
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>
  <main class="wrap">
    <section class="card" aria-label="Chinta focus shifter">
      <header class="logo">
        <div class="mark" aria-hidden="true">üß†</div>
        <div class="name">Chinta</div>
      </header>
      <h1 class="tag-main">One click. <span class="dopamine">A dopamine hit</span>.</h1>
      <p class="tag-sub">Shift your thought. Lift your mood.</p>

      <div class="input">
        <label for="thought" class="sr-only">Your looping thought</label>
        <textarea id="thought" placeholder="What is looping in your mind?"></textarea>
      </div>

      <div class="row">
        <div class="mode" role="group" aria-label="Shift styles">
          <button class="pill" data-style="playful" aria-pressed="true">Playful</button>
          <button class="pill" data-style="calm">Calm</button>
          <button class="pill" data-style="rational">Rational</button>
          <button class="pill" data-style="child">Curious</button>
          <button class="pill" data-style="wild">Surprise</button>
        </div>
        <div class="controls-main">
          <button id="shift" class="btn" aria-label="Shift">SHIFT</button>
          <button id="gemini-shift" class="btn gemini-btn" aria-label="Ask Gemini">‚ú® Ask Gemini</button>
        </div>
      </div>

      <div id="panel" class="outputs" aria-live="polite"></div>
      <div id="loader" class="loader">Thinking...</div>
      <div id="hint" class="hint"></div>

      <footer>
        <span>Offline shifts are created in your browser</span>
        <span>‚Ä¢</span>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#privacy">Privacy</a>
        <a href="#pins">Pins</a>
      </footer>

      <!-- Modals (unchanged) -->
      <div id="modal-about" class="modal" role="dialog" aria-modal="true" aria-labelledby="about-title"><div class="backdrop" data-close="about"></div><div class="modal-card"><button class="closex" data-close="about" aria-label="Close">‚úï</button><h2 id="about-title">About Chinta</h2><p>Chinta is a tiny thought shifting tool that helps you break mental loops in seconds. It runs entirely in your browser with no data sent to any server.</p><p>Overthinking locks the brain into a narrow prediction cycle and raises stress. A small shift in attention can interrupt the loop, increase a sense of control, and spark a healthy dopamine lift. Micro shifts can lead to macro relief.</p><p>Created by <strong>Apoorva Chandram (Mr.)</strong>. One click. A dopamine hit.</p></div></div>
      <div id="modal-contact" class="modal" role="dialog" aria-modal="true" aria-labelledby="contact-title"><div class="backdrop" data-close="contact"></div><div class="modal-card"><button class="closex" data-close="contact" aria-label="Close">‚úï</button><h2 id="contact-title">Contact</h2><p>Write to <a href="mailto:apoorva.chandram@yahoo.com">apoorva.chandram@yahoo.com</a> with feedback, ideas or stories.</p></div></div>
      <div id="modal-privacy" class="modal" role="dialog" aria-modal="true" aria-labelledby="privacy-title"><div class="backdrop" data-close="privacy"></div><div class="modal-card"><button class="closex" data-close="privacy" aria-label="Close">‚úï</button><h2 id="privacy-title">Privacy</h2><p>Chinta runs completely in your browser. Your text does not leave your device. There are no accounts, no trackers and no third‚Äëparty cookies.</p><p>This tool offers perspective prompts only. It is not a medical service. If you feel unsafe or at risk please reach out to local support or to the resources shown in the crisis message.</p></div></div>
      <div id="modal-pins" class="modal" role="dialog" aria-modal="true" aria-labelledby="pins-title"><div class="backdrop" data-close="pins"></div><div class="modal-card"><button class="closex" data-close="pins" aria-label="Close">‚úï</button><h2 id="pins-title">Pinned shifts</h2><div id="pins-list" style="display:grid;gap:10px"></div></div></div>
    </section>
  </main>

  <script src="https://unpkg.com/franc-min@6/dist/franc.umd.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // === Helpers ===
      const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
      const panel = document.getElementById('panel');
      const hint = document.getElementById('hint');
      const input = document.getElementById('thought');
      const loader = document.getElementById('loader');
      const pick = arr => arr[Math.floor(Math.random()*arr.length)];

      // === i18n Language Packs & Manager ===
      const i18n = {
        packs: {
          en: { modes: { playful: "Playful", calm: "Calm", rational: "Rational", child: "Curious", wild: "Surprise" }, shift_btn: "SHIFT", placeholder: "What is looping in your mind?", tones: ["üí° Reframe:", "ü™∂ Light thought:", "‚ú® New angle:", "üîé Consider:"], nudges: ["Try saying it out loud‚Äîdoes it soften?", "Make it 10% kinder and read again.", "One kind action after this. Small is fine.", "Text one person who‚Äôd care to hear this.", "Name one thing inside your control."], themed: { finance: `Imagine money as a shy pet‚Äîit comes closer when you create calm value.`, work: `Plot twist: productivity arrives after one tiny, non-perfect start.`, love: `New camera angle: your heart asks for curiosity over certainty.`, anxiety: `What if the body is just asking for slower air and a gentler pace?` }, playful: { starts: ['Plot twist:','Tiny miracle alert:','What if this is a side quest where'], ends: ['you collect one small win.','you learn one friendly thing.', 'you %%ACTION%%.'], connector: "and" }, calm: `I notice the thought "%%THOUGHT%%" and let it pass like a cloud. I return to one breath and one helpful action.`, rational: `If this is true, what evidence supports it‚Äîand what doesn‚Äôt? I choose to %%ACTION%%.`, reflective: `What might this thought be trying to protect me from? If it could speak kindly, what would it ask for right now?`, wild: [ s => `üì∞ As a headline: ${s.replace(/\.$/,'').toUpperCase()}. Next: state the smallest next step in under twelve words.`, s => `üìú As a text to future-me: ‚ÄúI did one small thing and the story moved forward.‚Äù`, s => `üë©‚Äçüç≥ As a recipe: two parts patience, one part help, a pinch of courage. Bake 1 hour.` ], actions: { finance: ["track one expense today","pause one non-essential purchase","send one honest money text","move $5 to savings"], work: ["write a 2-line plan","draft the first sentence of the email","block 10 minutes","ask one clear question"], love: ["state one need kindly","give one specific appreciation","take a short walk before replying"], anxiety: ["breathe 4-seconds in, 6-seconds out x4","name 3 things you can see","put the worry on paper"], general: ["do a two-minute task","tidy a tiny area","drink water","step outside for 60 seconds"] }, hints: { default: "Tip: Tap a bubble to copy. Press Space to shift again.", copied: "Copied!", pinned: "Pinned!", error: "Could not copy." } },
          es: { modes: { playful: "Juguet√≥n", calm: "Calma", rational: "Racional", child: "Curioso", wild: "Sorpresa" }, shift_btn: "CAMBIAR", placeholder: "¬øQu√© est√° dando vueltas en tu mente?", tones: ["üí° Reencuadre:", "ü™∂ Pensamiento ligero:", "‚ú® Nuevo √°ngulo:", "üîé Considera:"], nudges: ["Intenta decirlo en voz alta, ¬øse suaviza?", "Hazlo un 10% m√°s amable y l√©elo de nuevo.", "Una acci√≥n amable despu√©s de esto. Algo peque√±o est√° bien.", "Env√≠a un mensaje a alguien a quien le importar√≠a saber esto.", "Nombra una cosa que est√© bajo tu control."], themed: { finance: `Imagina el dinero como una mascota t√≠mida: se acerca cuando creas valor con calma.`, work: `Giro de guion: la productividad llega despu√©s de un peque√±o comienzo, no perfecto.`, love: `Nuevo √°ngulo de c√°mara: tu coraz√≥n pide curiosidad en lugar de certeza.`, anxiety: `¬øY si el cuerpo solo est√° pidiendo aire m√°s lento y un ritmo m√°s suave?` }, playful: { starts: ['Giro de guion:','Alerta de peque√±o milagro:','¬øY si esto es una misi√≥n secundaria donde'], ends: ['recoges una peque√±a victoria.','aprendes una cosa amable.', 'haces %%ACTION%%.'], connector: "y" }, calm: `Noto el pensamiento "%%THOUGHT%%" y lo dejo pasar como una nube. Vuelvo a una respiraci√≥n y una acci√≥n √∫til.`, rational: `Si esto es cierto, ¬øqu√© evidencia lo respalda y cu√°l no? Elijo %%ACTION%%.`, reflective: `¬øDe qu√© podr√≠a estar tratando de protegerme este pensamiento? Si pudiera hablar amablemente, ¬øqu√© pedir√≠a ahora mismo?`, wild: [ s => `üì∞ Como titular: ${s.replace(/\.$/,'').toUpperCase()}. Siguiente: indica el pr√≥ximo paso m√°s peque√±o en menos de doce palabras.`, s => `üìú Como mensaje para mi yo-futuro: "Hice una peque√±a cosa y la historia avanz√≥."`, s => `üë©‚Äçüç≥ Como receta: dos partes de paciencia, una de ayuda, una pizca de valent√≠a. Hornear 1 hora.` ], actions: { finance: ["registrar un gasto hoy","pausar una compra no esencial","enviar un mensaje honesto sobre dinero","mover 5‚Ç¨ a ahorros"], work: ["escribir un plan de 2 l√≠neas","redactar la primera frase del email","bloquear 10 minutos","hacer una pregunta clara"], love: ["expresar una necesidad amablemente","dar un agradecimiento espec√≠fico","dar un corto paseo antes de responder"], anxiety: ["inhalar 4s, exhalar 6s (x4)","nombrar 3 cosas que puedes ver","escribir la preocupaci√≥n en un papel"], general: ["hacer una tarea de dos minutos","ordenar un √°rea peque√±a","beber agua","salir afuera por 60 segundos"] }, hints: { default: "Consejo: Toca una burbuja para copiar. Pulsa Espacio para cambiar de nuevo.", copied: "¬°Copiado!", pinned: "¬°Guardado!", error: "No se pudo copiar." } },
          hi: { modes: { playful: "‡§ö‡§Ç‡§ö‡§≤", calm: "‡§∂‡§æ‡§Ç‡§§", rational: "‡§§‡§∞‡•ç‡§ï‡§∏‡§Ç‡§ó‡§§", child: "‡§ú‡§ø‡§ú‡•ç‡§û‡§æ‡§∏‡•Å", wild: "‡§Ü‡§∂‡•ç‡§ö‡§∞‡•ç‡§Ø" }, shift_btn: "‡§¨‡§¶‡§≤‡•á‡§Ç", placeholder: " ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à?", tones: ["üí° ‡§®‡§Ø‡§æ ‡§¶‡•É‡§∑‡•ç‡§ü‡§ø‡§ï‡•ã‡§£:", "ü™∂ ‡§π‡§≤‡•ç‡§ï‡§æ ‡§µ‡§ø‡§ö‡§æ‡§∞:", "‚ú® ‡§®‡§Ø‡§æ ‡§è‡§Ç‡§ó‡§≤:", "üîé ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç:"], nudges: ["‡§á‡§∏‡•á ‡§ú‡•ã‡§∞ ‡§∏‡•á ‡§ï‡§π‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‚Äî‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§®‡§∞‡§Æ ‡§≤‡§ó‡§§‡§æ ‡§π‡•à?", "‡§á‡§∏‡•á 10% ‡§î‡§∞ ‡§¶‡§Ø‡§æ‡§≤‡•Å ‡§¨‡§®‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç‡•§", "‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§è‡§ï ‡§¶‡§Ø‡§æ‡§≤‡•Å ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§õ‡•ã‡§ü‡§æ ‡§∏‡§æ ‡§≠‡•Ä ‡§†‡•Ä‡§ï ‡§π‡•à‡•§", "‡§ï‡§ø‡§∏‡•Ä ‡§ê‡§∏‡•á ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡•ã ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§ú‡§ø‡§∏‡•á ‡§Ø‡§π ‡§∏‡•Å‡§®‡§®‡§æ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó‡•á‡§ó‡§æ‡•§", "‡§è‡§ï ‡§ê‡§∏‡•Ä ‡§ö‡•Ä‡§ú‡§º ‡§¨‡§§‡§æ‡§è‡§Ç ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§Æ‡•á‡§Ç ‡§π‡•à‡•§"], themed: { finance: "‡§∏‡•ã‡§ö‡•á‡§Ç ‡§ï‡§ø ‡§™‡•à‡§∏‡§æ ‡§è‡§ï ‡§∂‡§∞‡•ç‡§Æ‡•Ä‡§≤‡•á ‡§™‡§æ‡§≤‡§§‡•Ç ‡§ú‡§æ‡§®‡§µ‡§∞ ‡§ï‡•Ä ‡§§‡§∞‡§π ‡§π‡•à - ‡§ú‡§¨ ‡§Ü‡§™ ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§∏‡•á ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§¨‡§®‡§æ‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡•ã ‡§Ø‡§π ‡§ï‡§∞‡•Ä‡§¨ ‡§Ü‡§§‡§æ ‡§π‡•à‡•§", work: "‡§ï‡§π‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡•ã‡§°‡§º: ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§ï‡§§‡§æ ‡§è‡§ï ‡§õ‡•ã‡§ü‡•Ä, ‡§Ö‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ü‡§§‡•Ä ‡§π‡•à‡•§", love: "‡§®‡§Ø‡§æ ‡§ï‡•à‡§Æ‡§∞‡§æ ‡§è‡§Ç‡§ó‡§≤: ‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§≤ ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§‡§§‡§æ ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø ‡§ú‡§ø‡§ú‡•ç‡§û‡§æ‡§∏‡§æ ‡§Æ‡§æ‡§Ç‡§ó‡§§‡§æ ‡§π‡•à‡•§", anxiety: "‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã ‡§Ö‡§ó‡§∞ ‡§∂‡§∞‡•Ä‡§∞ ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ß‡•Ä‡§Æ‡•Ä ‡§∏‡§æ‡§Ç‡§∏ ‡§î‡§∞ ‡§è‡§ï ‡§∏‡•å‡§Æ‡•ç‡§Ø ‡§ó‡§§‡§ø ‡§Æ‡§æ‡§Ç‡§ó ‡§∞‡§π‡§æ ‡§π‡•ã?" }, playful: { starts: ['‡§ï‡§π‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡•ã‡§°‡§º:','‡§õ‡•ã‡§ü‡•á ‡§ö‡§Æ‡§§‡•ç‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä:','‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ ‡§Ö‡§ó‡§∞ ‡§Ø‡§π ‡§è‡§ï ‡§∏‡§æ‡§á‡§° ‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§π‡•à ‡§ú‡§π‡§æ‡§Å'], ends: ['‡§Ü‡§™ ‡§è‡§ï ‡§õ‡•ã‡§ü‡•Ä ‡§∏‡•Ä ‡§ú‡•Ä‡§§ ‡§π‡§æ‡§∏‡§ø‡§≤ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§','‡§Ü‡§™ ‡§è‡§ï ‡§¶‡•ã‡§∏‡•ç‡§§‡§æ‡§®‡§æ ‡§¨‡§æ‡§§ ‡§∏‡•Ä‡§ñ‡§§‡•á ‡§π‡•à‡§Ç‡•§', '‡§Ü‡§™ %%ACTION%% ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§'], connector: "‡§î‡§∞" }, calm: `‡§Æ‡•à‡§Ç "%%THOUGHT%%" ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡•ã ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§î‡§∞ ‡§á‡§∏‡•á ‡§¨‡§æ‡§¶‡§≤ ‡§ï‡•Ä ‡§§‡§∞‡§π ‡§ó‡•Å‡§ú‡§∞‡§®‡•á ‡§¶‡•á‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§è‡§ï ‡§∏‡§æ‡§Ç‡§∏ ‡§î‡§∞ ‡§è‡§ï ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§™‡§∞ ‡§≤‡•å‡§ü‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§`, rational: `‡§Ö‡§ó‡§∞ ‡§Ø‡§π ‡§∏‡§ö ‡§π‡•à, ‡§§‡•ã ‡§ï‡•å‡§® ‡§∏‡•á ‡§∏‡§¨‡•Ç‡§§ ‡§á‡§∏‡§ï‡§æ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç - ‡§î‡§∞ ‡§ï‡•å‡§® ‡§∏‡•á ‡§®‡§π‡•Ä‡§Ç? ‡§Æ‡•à‡§Ç %%ACTION%% ‡§ï‡§∞‡§®‡§æ ‡§ö‡•Å‡§®‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§`, reflective: `‡§Ø‡§π ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§ï‡§ø‡§∏‡§∏‡•á ‡§¨‡§ö‡§æ‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•ã‡§ó‡§æ? ‡§Ö‡§ó‡§∞ ‡§Ø‡§π ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ, ‡§§‡•ã ‡§Ø‡§π ‡§Ö‡§≠‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§æ‡§Ç‡§ó‡§§‡§æ?`, wild: [ s => `üì∞ ‡§è‡§ï ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç: ${s.replace(/\.$/,'').toUpperCase()}‡•§ ‡§Ö‡§ó‡§≤‡§æ: ‡§¨‡§æ‡§∞‡§π ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§∏‡•á ‡§ï‡§Æ ‡§Æ‡•á‡§Ç ‡§Ö‡§ó‡§≤‡§æ ‡§∏‡§¨‡§∏‡•á ‡§õ‡•ã‡§ü‡§æ ‡§ï‡§¶‡§Æ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§`, s => `üìú ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§Ç‡§¶‡•á‡§∂: "‡§Æ‡•à‡§Ç‡§®‡•á ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§ï‡§π‡§æ‡§®‡•Ä ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡•Ä‡•§"`, s => `üë©‚Äçüç≥ ‡§è‡§ï ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç: ‡§¶‡•ã ‡§≠‡§æ‡§ó ‡§ß‡•à‡§∞‡•ç‡§Ø, ‡§è‡§ï ‡§≠‡§æ‡§ó ‡§Æ‡§¶‡§¶, ‡§è‡§ï ‡§ö‡•Å‡§ü‡§ï‡•Ä ‡§∏‡§æ‡§π‡§∏‡•§ 1 ‡§ò‡§Ç‡§ü‡§æ ‡§¨‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§` ], actions: { finance: ["‡§Ü‡§ú ‡§è‡§ï ‡§ñ‡§∞‡•ç‡§ö ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç", "‡§è‡§ï ‡§ó‡•à‡§∞-‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§ñ‡§∞‡•Ä‡§¶ ‡§∞‡•ã‡§ï‡•á‡§Ç", "‡§™‡•à‡§∏‡•á ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§≠‡•á‡§ú‡•á‡§Ç", "‡§¨‡§ö‡§§ ‡§Æ‡•á‡§Ç ‚Çπ100 ‡§°‡§æ‡§≤‡•á‡§Ç"], work: ["2-‡§≤‡§æ‡§á‡§® ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç", "‡§à‡§Æ‡•á‡§≤ ‡§ï‡§æ ‡§™‡§π‡§≤‡§æ ‡§µ‡§æ‡§ï‡•ç‡§Ø ‡§≤‡§ø‡§ñ‡•á‡§Ç", "10 ‡§Æ‡§ø‡§®‡§ü ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡•á‡§Ç", "‡§è‡§ï ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•Ç‡§õ‡•á‡§Ç"], love: ["‡§è‡§ï ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§ï‡•ã ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§§‡§æ‡§è‡§Ç", "‡§è‡§ï ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§™‡•ç‡§∞‡§∂‡§Ç‡§∏‡§æ ‡§ï‡§∞‡•á‡§Ç", "‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§ü‡§π‡§≤‡•á‡§Ç"], anxiety: ["4-‡§∏‡•á‡§ï‡§Ç‡§° ‡§∏‡§æ‡§Ç‡§∏ ‡§Ö‡§Ç‡§¶‡§∞, 6-‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§π‡§∞ (4 ‡§¨‡§æ‡§∞)", "3 ‡§ö‡•Ä‡§ú‡•á‡§Ç ‡§¨‡§§‡§æ‡§è‡§Ç ‡§ú‡•ã ‡§Ü‡§™ ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç", "‡§ö‡§ø‡§Ç‡§§‡§æ ‡§ï‡•ã ‡§ï‡§æ‡§ó‡§ú ‡§™‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç"], general: ["‡§¶‡•ã ‡§Æ‡§ø‡§®‡§ü ‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç", "‡§è‡§ï ‡§õ‡•ã‡§ü‡•á ‡§∏‡•á ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ï‡•ã ‡§∏‡§æ‡§´ ‡§ï‡§∞‡•á‡§Ç", "‡§™‡§æ‡§®‡•Ä ‡§™‡§ø‡§è‡§Ç", "60 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§æ‡§π‡§∞ ‡§ú‡§æ‡§è‡§Ç"] }, hints: { default: "‡§∏‡•Å‡§ù‡§æ‡§µ: ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡•á ‡§™‡§∞ ‡§ü‡•à‡§™ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§¨‡§¶‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§™‡•á‡§∏ ‡§¶‡§¨‡§æ‡§è‡§Ç‡•§", copied: "‡§ï‡•â‡§™‡•Ä ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!", pinned: "‡§™‡§ø‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!", error: "‡§ï‡•â‡§™‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∏‡§ï‡§æ‡•§" } },
          ar: { modes: { playful: "ŸÖÿ±ÿ≠", calm: "ŸáÿßÿØÿ¶", rational: "ÿπŸÇŸÑÿßŸÜŸä", child: "ŸÅÿ∂ŸàŸÑŸä", wild: "ŸÖŸÅÿßÿ¨ÿ£ÿ©" }, shift_btn: "ÿ™ÿ∫ŸäŸäÿ±", placeholder: "ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäÿØŸàÿ± ŸÅŸä ÿ∞ŸáŸÜŸÉÿü", tones: ["üí° ÿ•ÿπÿßÿØÿ© ÿµŸäÿßÿ∫ÿ©:", "ü™∂ ŸÅŸÉÿ±ÿ© ÿÆŸÅŸäŸÅÿ©:", "‚ú® ÿ≤ÿßŸàŸäÿ© ÿ¨ÿØŸäÿØÿ©:", "üîé ÿ™ÿ£ŸÖŸÑ:"], nudges: ["ÿ≠ÿßŸàŸÑ ŸÇŸàŸÑŸáÿß ÿ®ÿµŸàÿ™ ÿπÿßŸÑŸç - ŸáŸÑ ÿ™ÿ®ÿØŸà ÿ£ŸÑÿ∑ŸÅÿü", "ÿßÿ¨ÿπŸÑŸáÿß ÿ£ŸÑÿ∑ŸÅ ÿ®ŸÜÿ≥ÿ®ÿ© 10Ÿ™ ŸàÿßŸÇÿ±ÿ£Ÿáÿß ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.", "ŸÇŸÖ ÿ®ÿπŸÖŸÑ ŸÑÿ∑ŸäŸÅ Ÿàÿßÿ≠ÿØ ÿ®ÿπÿØ Ÿáÿ∞ÿß. ŸÑÿß ÿ®ÿ£ÿ≥ ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿµÿ∫Ÿäÿ±ÿßŸã.", "ÿ£ÿ±ÿ≥ŸÑ ÿ±ÿ≥ÿßŸÑÿ© ÿ•ŸÑŸâ ÿ¥ÿÆÿµ ŸäŸáÿ™ŸÖ ÿ®ÿ≥ŸÖÿßÿπ Ÿáÿ∞ÿß.", "ÿßÿ∞ŸÉÿ± ÿ¥Ÿäÿ¶Ÿãÿß Ÿàÿßÿ≠ÿØŸãÿß ÿ™ÿ≠ÿ™ ÿ≥Ÿäÿ∑ÿ±ÿ™ŸÉ."], themed: { finance: "ÿ™ÿÆŸäŸÑ ÿ£ŸÜ ÿßŸÑŸÖÿßŸÑ ÿ≠ŸäŸàÿßŸÜ ÿ£ŸÑŸäŸÅ ÿÆÿ¨ŸàŸÑ - ŸäŸÇÿ™ÿ±ÿ® ŸÖŸÜŸÉ ÿπŸÜÿØŸÖÿß ÿ™ÿÆŸÑŸÇ ŸÇŸäŸÖÿ© ÿ®ŸáÿØŸàÿ°.", work: "ŸÖŸÅÿßÿ¨ÿ£ÿ©: ÿßŸÑÿ•ŸÜÿ™ÿßÿ¨Ÿäÿ© ÿ™ÿ£ÿ™Ÿä ÿ®ÿπÿØ ÿ®ÿØÿßŸäÿ© ÿµÿ∫Ÿäÿ±ÿ© Ÿàÿ∫Ÿäÿ± ŸÖÿ´ÿßŸÑŸäÿ©.", love: "ÿ≤ÿßŸàŸäÿ© ŸÉÿßŸÖŸäÿ±ÿß ÿ¨ÿØŸäÿØÿ©: ŸÇŸÑÿ®ŸÉ Ÿäÿ∑ŸÑÿ® ÿßŸÑŸÅÿ∂ŸàŸÑ ÿ®ÿØŸÑÿßŸã ŸÖŸÜ ÿßŸÑŸäŸÇŸäŸÜ.", anxiety: "ŸÖÿßÿ∞ÿß ŸÑŸà ŸÉÿßŸÜ ÿßŸÑÿ¨ÿ≥ŸÖ Ÿäÿ∑ŸÑÿ® ŸÅŸÇÿ∑ ŸáŸàÿßÿ°Ÿã ÿ£ÿ®ÿ∑ÿ£ ŸàŸàÿ™Ÿäÿ±ÿ© ÿ£ŸÑÿ∑ŸÅÿü" }, playful: { starts: ['ŸÖŸÅÿßÿ¨ÿ£ÿ©:', 'ÿ™ŸÜÿ®ŸäŸá ÿ®ŸÖÿπÿ¨ÿ≤ÿ© ÿµÿ∫Ÿäÿ±ÿ©:', 'ŸÖÿßÿ∞ÿß ŸÑŸà ŸÉÿßŸÜÿ™ Ÿáÿ∞Ÿá ŸÖŸáŸÖÿ© ÿ¨ÿßŸÜÿ®Ÿäÿ© ÿ≠Ÿäÿ´'], ends: ['ÿ™ÿ≠ŸÇŸÇ ŸÅŸàÿ≤Ÿãÿß ÿµÿ∫Ÿäÿ±Ÿãÿß.', 'ÿ™ÿ™ÿπŸÑŸÖ ÿ¥Ÿäÿ¶Ÿãÿß ŸàÿØŸäŸãÿß Ÿàÿßÿ≠ÿØŸãÿß.', 'ÿ™ŸÇŸàŸÖ ÿ®ŸÄ %%ACTION%%.'], connector: "Ÿà" }, calm: `ÿ£ŸÑÿßÿ≠ÿ∏ ŸÅŸÉÿ±ÿ© "%%THOUGHT%%" Ÿàÿ£ÿØÿπŸáÿß ÿ™ŸÖÿ± ŸÖÿ´ŸÑ ÿ≥ÿ≠ÿßÿ®ÿ©. ÿ£ÿπŸàÿØ ÿ•ŸÑŸâ ŸÜŸÅÿ≥ Ÿàÿßÿ≠ÿØ ŸàÿπŸÖŸÑ ŸÖŸÅŸäÿØ Ÿàÿßÿ≠ÿØ.`, rational: `ÿ•ÿ∞ÿß ŸÉÿßŸÜ Ÿáÿ∞ÿß ÿµÿ≠Ÿäÿ≠Ÿãÿß, ŸÅŸÖÿß ÿßŸÑÿØŸÑŸäŸÑ ÿßŸÑÿ∞Ÿä ŸäÿØÿπŸÖŸá - ŸàŸÖÿß ÿßŸÑÿ∞Ÿä ŸÑÿß ŸäÿØÿπŸÖŸáÿü ÿ£ÿÆÿ™ÿßÿ± ÿ£ŸÜ %%ACTION%%.`, reflective: `ŸÖÿß ÿßŸÑÿ∞Ÿä ŸÇÿØ ÿ™ÿ≠ÿßŸàŸÑ Ÿáÿ∞Ÿá ÿßŸÑŸÅŸÉÿ±ÿ© ÿ≠ŸÖÿßŸäÿ™Ÿä ŸÖŸÜŸáÿü ŸÑŸà ÿ£ŸÖŸÉŸÜŸáÿß ÿßŸÑÿ™ÿ≠ÿØÿ´ ÿ®ŸÑÿ∑ŸÅ, ŸÅŸÖÿßÿ∞ÿß ÿ≥ÿ™ÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜÿü`, wild: [ s => `üì∞ ŸÉÿπŸÜŸàÿßŸÜ ÿ±ÿ¶Ÿäÿ≥Ÿä: ${s.replace(/\.$/,'').toUpperCase()}. ÿßŸÑÿ™ÿßŸÑŸä: ÿßÿ∞ŸÉÿ± ÿ£ÿµÿ∫ÿ± ÿÆÿ∑Ÿàÿ© ÿ™ÿßŸÑŸäÿ© ŸÅŸä ÿ£ŸÇŸÑ ŸÖŸÜ ÿßÿ´ŸÜÿ™Ÿä ÿπÿ¥ÿ±ÿ© ŸÉŸÑŸÖÿ©.`, s => `üìú ŸÉŸÜÿµ ÿ•ŸÑŸâ ŸÜŸÅÿ≥Ÿä ŸÅŸä ÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑ: "ŸÑŸÇÿØ ŸÅÿπŸÑÿ™ ÿ¥Ÿäÿ¶Ÿãÿß ÿµÿ∫Ÿäÿ±Ÿãÿß Ÿàÿßÿ≠ÿØŸãÿß Ÿàÿ™ŸÇÿØŸÖÿ™ ÿßŸÑŸÇÿµÿ©."`, s => `üë©‚Äçüç≥ ŸÉŸàÿµŸÅÿ©: ÿ¨ÿ≤ÿ¢ŸÜ ŸÖŸÜ ÿßŸÑÿµÿ®ÿ±, ÿ¨ÿ≤ÿ° Ÿàÿßÿ≠ÿØ ŸÖŸÜ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©, ŸÇŸÑŸäŸÑ ŸÖŸÜ ÿßŸÑÿ¥ÿ¨ÿßÿπÿ©. ÿ™ŸèÿÆÿ®ÿ≤ ŸÑŸÖÿØÿ© ÿ≥ÿßÿπÿ©.` ], actions: { finance: ["ÿ™ÿ™ÿ®ÿπ ŸÜŸÅŸÇÿ© Ÿàÿßÿ≠ÿØÿ© ÿßŸÑŸäŸàŸÖ", "ÿ£ŸàŸÇŸÅ ÿπŸÖŸÑŸäÿ© ÿ¥ÿ±ÿßÿ° Ÿàÿßÿ≠ÿØÿ© ÿ∫Ÿäÿ± ÿ∂ÿ±Ÿàÿ±Ÿäÿ©", "ÿ£ÿ±ÿ≥ŸÑ ÿ±ÿ≥ÿßŸÑÿ© ŸÜÿµŸäÿ© ÿµÿßÿØŸÇÿ© ÿπŸÜ ÿßŸÑŸÖÿßŸÑ", "ÿßŸÜŸÇŸÑ 5 ÿØŸàŸÑÿßÿ±ÿßÿ™ ÿ•ŸÑŸâ ÿßŸÑŸÖÿØÿÆÿ±ÿßÿ™"], work: ["ÿßŸÉÿ™ÿ® ÿÆÿ∑ÿ© ŸÖŸÜ ÿ≥ÿ∑ÿ±ŸäŸÜ", "ÿµŸäÿßÿ∫ÿ© ÿßŸÑÿ¨ŸÖŸÑÿ© ÿßŸÑÿ£ŸàŸÑŸâ ŸÖŸÜ ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä", "ÿßÿ≠ÿ¨ÿ≤ 10 ÿØŸÇÿßÿ¶ŸÇ", "ÿßÿ∑ÿ±ÿ≠ ÿ≥ÿ§ÿßŸÑÿßŸã Ÿàÿßÿ∂ÿ≠Ÿãÿß"], love: ["ÿßÿ∞ŸÉÿ± ÿ≠ÿßÿ¨ÿ© Ÿàÿßÿ≠ÿØÿ© ÿ®ŸÑÿ∑ŸÅ", "ŸÇÿØŸÖ ÿ™ŸÇÿØŸäÿ±Ÿãÿß ŸÖÿ≠ÿØÿØŸãÿß", "ŸÇŸÖ ÿ®ŸÜÿ≤Ÿáÿ© ŸÇÿµŸäÿ±ÿ© ŸÇÿ®ŸÑ ÿßŸÑÿ±ÿØ"], anxiety: ["ÿ™ŸÜŸÅÿ≥ ŸÑŸÑÿØÿßÿÆŸÑ 4 ÿ´ŸàÿßŸÜŸç, ŸàŸÑŸÑÿÆÿßÿ±ÿ¨ 6 ÿ´ŸàÿßŸÜŸç (4 ŸÖÿ±ÿßÿ™)", "ÿßÿ∞ŸÉÿ± 3 ÿ£ÿ¥Ÿäÿßÿ° ŸäŸÖŸÉŸÜŸÉ ÿ±ÿ§Ÿäÿ™Ÿáÿß", "ÿ∂ÿπ ÿßŸÑŸÇŸÑŸÇ ÿπŸÑŸâ ÿßŸÑŸàÿ±ŸÇ"], general: ["ŸÇŸÖ ÿ®ŸÖŸáŸÖÿ© ŸÑŸÖÿØÿ© ÿØŸÇŸäŸÇÿ™ŸäŸÜ", "ÿ±ÿ™ÿ® ŸÖŸÜÿ∑ŸÇÿ© ÿµÿ∫Ÿäÿ±ÿ©", "ÿßÿ¥ÿ±ÿ® ÿßŸÑŸÖÿßÿ°", "ÿßÿÆÿ±ÿ¨ ŸÑŸÖÿØÿ© 60 ÿ´ÿßŸÜŸäÿ©"] }, hints: { default: "ŸÜÿµŸäÿ≠ÿ©: ÿßŸÜŸÇÿ± ÿπŸÑŸâ ÿßŸÑŸÅŸÇÿßÿπÿ© ŸÑŸÑŸÜÿ≥ÿÆ. ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ŸÖÿ≥ÿßŸÅÿ© ŸÑŸÑÿ™ÿ∫ŸäŸäÿ± ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.", copied: "ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ!", pinned: "ÿ™ŸÖ ÿßŸÑÿ™ÿ´ÿ®Ÿäÿ™!", error: "ŸÑŸÖ Ÿäÿ™ŸÖŸÉŸÜ ŸÖŸÜ ÿßŸÑŸÜÿ≥ÿÆ." } },
        },
        rtlLangs: ['ar', 'he', 'ur', 'fa'],
        get(key, lang = 'en') {
          const path = key.split('.'); let pack = this.packs[lang] || this.packs.en; let result = pack;
          try { for (const p of path) { result = result[p]; } return result; } 
          catch (e) { pack = this.packs.en; result = pack; for (const p of path) { result = result[p]; } return result; }
        },
        pick(key, lang = 'en') { const arr = this.get(key, lang); return Array.isArray(arr) ? pick(arr) : arr; }
      };

      // --- Core Application Logic ---
      const modeButtons = $$('.pill');
      let mode = 'playful';
      modeButtons.forEach(btn => btn.addEventListener('click', () => {
        modeButtons.forEach(b => b.setAttribute('aria-pressed','false'));
        btn.setAttribute('aria-pressed','true');
        mode = btn.dataset.style;
      }));

      const crisisTerms = ['suicide','kill myself','end my life','goodbye forever','no reason to live','i want to die','self harm','end it all'];
      const looksLikeCrisis = (text='') => crisisTerms.some(k => text.toLowerCase().includes(k));
      function crisisPanel(){
        const div = document.createElement('div');
        div.className = 'crisis';
        div.innerHTML = `<strong>This feels serious</strong><div>You matter and real human help can support you right now</div><div>If you feel at risk please reach out</div><ul><li>United States Call or text 988</li><li>Find international help lines at <a href="https://www.opencounseling.com/suicide-hotlines" target="_blank" rel="noopener">OpenCounseling</a></li><li>Talk to someone you trust if you can</li></ul>`;
        return div;
      }

      const fillers = [/\bi just\b/gi,/\bi think\b/gi,/\bkinda\b/gi,/\bsorta\b/gi,/\bmaybe\b/gi,/\bjust\b/gi];
      const tidy = s => s.replace(/[\r\t]+/g,' ').replace(/\s{2,}/g,' ').replace(/\s*([\.,!?])\s*/g,'$1 ').trim();
      function normalizeThought(t){
        let s = String(t||'');
        fillers.forEach(rx => s = s.replace(rx,''));
        s = s.replace(/\s{2,}/g,' ').trim();
        if(s && !/[\.!?]$/.test(s)) s += '.';
        return s;
      }

      function detectTheme(text=''){
        const t = text.toLowerCase();
        if (/(money|bill|rent|salary|debt|budget|cash|dinero|factura|alquiler|salario|deuda|presupuesto|argent|salaire|dette|geld|rechnung|gehalt|schulden|‡§™‡•à‡§∏‡§æ|‡§¨‡§ø‡§≤|‡§µ‡•á‡§§‡§®|‡§ï‡§∞‡•ç‡§ú)/.test(t)) return 'finance';
        if (/(job|work|boss|deadline|meeting|career|trabajo|jefe|carrera|boulot|patron|carri√®re|arbeit|karriere|‡§ï‡§æ‡§Æ|‡§¨‡•â‡§∏|‡§ï‡§∞‡§ø‡§Ø‡§∞)/.test(t)) return 'work';
        if (/(love|relationship|partner|breakup|lonely|friend|amor|relaci√≥n|pareja|amigo|amour|relation|solitaire|liebe|beziehung|freund|‡§™‡•ç‡§Ø‡§æ‡§∞|‡§∞‡§ø‡§∂‡•ç‡§§‡§æ|‡§¶‡•ã‡§∏‡•ç‡§§)/.test(t)) return 'love';
        if (/(health|pain|sleep|tired|anxious|panic|stress|salud|dolor|sue√±o|ansiedad|p√°nico|sant√©|douleur|sommeil|anxieux|gesundheit|schmerz|schlaf|angst|‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø|‡§¶‡§∞‡•ç‡§¶|‡§®‡•Ä‡§Ç‡§¶|‡§§‡§®‡§æ‡§µ)/.test(t)) return 'anxiety';
        return 'general';
      }
      
      const maybeNudge = (s, lang) => Math.random()<0.6 ? `${s} ${i18n.pick('nudges', lang)}` : s;
      const smallAction = (theme, lang) => i18n.pick(`actions.${theme}`, lang) || i18n.pick('actions.general', lang);
      function playfulShift(t, theme, lang){ const themed = i18n.get(`themed.${theme}`, lang); if (theme!=='general' && themed) return `${i18n.pick('tones', lang)} ${themed}`; const starts = i18n.get('playful.starts', lang); const ends = i18n.get('playful.ends', lang); const action = smallAction(theme, lang); const connector = i18n.get('playful.connector', lang); const endPhrase = pick(ends).replace('%%ACTION%%', action); return `${i18n.pick('tones', lang)} ${pick(starts)} ${t.toLowerCase()} ${connector} ${endPhrase}`; }
      function calmShift(t, lang){ const template = i18n.get('calm', lang); return `${i18n.pick('tones', lang)} ${template.replace('%%THOUGHT%%', t.replace(/\.$/,''))}`; }
      function rationalShift(t, theme, lang){ const template = i18n.get('rational', lang); const action = smallAction(theme, lang); return `${i18n.pick('tones', lang)} ${template.replace('%%ACTION%%', action)}`; }
      function reflectiveShift(t, lang){ return `${i18n.pick('tones', lang)} ${i18n.get('reflective', lang)}`; }
      function wildShift(t, lang){ const frames = i18n.get('wild', lang); return pick(frames)(t); }
      function compositeShift(t, theme, lang){ const a = playfulShift(t, theme, lang); const b = calmShift(t, lang); const c = rationalShift(t, theme, lang); return `${a} ${b} ${c}`; }
      function makeShifts(raw, lang){ const clean = normalizeThought(raw); const theme = detectTheme(clean); const generators = new Map([ ['playful', () => playfulShift(clean, theme, lang)], ['calm', () => calmShift(clean, lang)], ['rational', () => rationalShift(clean, theme, lang)], ['child', () => reflectiveShift(clean, lang)], ['wild', () => wildShift(clean, lang)] ]); const out = []; out.push(maybeNudge(generators.get(mode)(), lang)); if (Math.random() < 0.5) out.push(maybeNudge(compositeShift(clean, theme, lang), lang)); const others = [...generators.keys()].filter(k=>k!==mode); while(out.length<3 && others.length){ const k = others.splice(Math.floor(Math.random()*others.length),1)[0]; out.push(maybeNudge(generators.get(k)(), lang)); } return out; }

      function render(list, lang){
        panel.innerHTML = '';
        list.forEach(txt => {
          const b = document.createElement('div');
          b.className = 'bubble';
          if (i18n.rtlLangs.includes(lang)) { b.setAttribute('dir', 'rtl'); }
          b.textContent = tidy(txt);
          const pin = document.createElement('button');
          pin.className = 'pin'; pin.setAttribute('title','Pin'); pin.textContent = '‚≠ê';
          pin.addEventListener('click', (e)=>{ e.stopPropagation(); doPin(txt, lang); });
          b.appendChild(pin);
          panel.appendChild(b);
        });
        hint.textContent = i18n.get('hints.default', lang);
      }
      
      // === SECURE Gemini API Integration ===
      async function getGeminiShift(userQuery) {
        try {
          const response = await fetch('/api/gemini', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ prompt: userQuery })
          });

          if (!response.ok) {
            const error = await response.json();
            console.error("API Error:", error.message);
            return "Sorry, I couldn't get a suggestion right now. Please try again.";
          }

          const result = await response.json();
          return result.text;
        } catch (error) {
          console.error("Fetch Error:", error);
          return "There was a problem reaching the server. Please check your connection.";
        }
      }

      function renderGemini(text) {
        panel.innerHTML = '';
        const b = document.createElement('div');
        b.className = 'bubble gemini';
        b.textContent = tidy(text);
        
        const pin = document.createElement('button');
        pin.className = 'pin'; pin.setAttribute('title','Pin'); pin.textContent = '‚≠ê';
        pin.addEventListener('click', (e)=>{ e.stopPropagation(); doPin(text); });
        b.appendChild(pin);
        
        panel.appendChild(b);
        hint.textContent = i18n.get('hints.default', 'en');
      }

      // --- Event Handlers & Main Execution ---
      panel.addEventListener('click', async (e)=>{
        const b = e.target.closest('.bubble'); if(!b) return;
        const lang = i18n.rtlLangs.includes(b.getAttribute('dir')) ? 'ar' : 'en';
        try{ await navigator.clipboard.writeText(b.textContent.replace('‚≠ê','').trim()); hint.textContent = i18n.get('hints.copied', lang); }
        catch{ hint.textContent = i18n.get('hints.error', lang); }
      });

      function doPin(text, lang = 'en'){
        try {
          const pins = JSON.parse(localStorage.getItem('chinta_pins')||'[]');
          pins.unshift({text: tidy(text), ts: Date.now()});
          localStorage.setItem('chinta_pins', JSON.stringify(pins.slice(0,50)));
          hint.textContent = i18n.get('hints.pinned', lang);
        } catch {}
      }
      
      function loadPins(){
        const list = JSON.parse(localStorage.getItem('chinta_pins')||'[]');
        const wrap = document.getElementById('pins-list');
        wrap.innerHTML='';
        if(!list.length){ wrap.innerHTML = '<p>No pins yet. Tap ‚≠ê on a shift to save it.</p>'; return; }
        list.forEach(p=>{
          const d = document.createElement('div');
          d.className='bubble'; d.textContent = p.text;
          if (/[\u0600-\u06FF\u0750-\u077F]/.test(p.text)) { d.setAttribute('dir', 'rtl'); }
          wrap.appendChild(d);
        });
      }

      function getLanguage(text) {
        if (/[\u0900-\u097F]/.test(text)) return 'hi';
        if (/[\u0600-\u06FF]/.test(text)) return 'ar';

        if (typeof franc === 'function') {
            try {
                const langMap = { 'eng': 'en', 'spa': 'es' }; 
                const whitelist = Object.keys(langMap);
                const lang3 = franc(text, { only: whitelist });
                return langMap[lang3] || 'en';
            } catch (e) {
                console.error("Language detection failed:", e);
                return 'en';
            }
        }
        return 'en';
      }

      function doShift(){
        const value = input.value.trim();
        if(!value){ input.focus(); return; }
        panel.innerHTML = ''; hint.textContent = '';
        if(looksLikeCrisis(value)){ panel.appendChild(crisisPanel()); return; }

        const lang = getLanguage(value);
        
        render(makeShifts(value, lang), lang);
        try{ const hist = JSON.parse(localStorage.getItem('chinta_hist')||'[]'); hist.unshift({t:value,ts:Date.now()}); localStorage.setItem('chinta_hist', JSON.stringify(hist.slice(0,20))); }catch{}
      }

      async function doGeminiShift() {
        const value = input.value.trim();
        if(!value){ input.focus(); return; }
        panel.innerHTML = ''; hint.textContent = '';
        if(looksLikeCrisis(value)){ panel.appendChild(crisisPanel()); return; }
        
        loader.style.display = 'block';
        const geminiText = await getGeminiShift(value);
        loader.style.display = 'none';

        renderGemini(geminiText);
      }

      document.getElementById('shift').addEventListener('click', doShift);
      document.getElementById('gemini-shift').addEventListener('click', doGeminiShift);

      window.addEventListener('keydown', e =>{ const tag = (document.activeElement||{}).tagName||''; if(e.code==='Space' && tag!=='TEXTAREA'){ e.preventDefault(); doShift(); } });
      const openers = {about:$$('a[href="#about"]')[0],contact:$$('a[href="#contact"]')[0],privacy:$$('a[href="#privacy"]')[0],pins:$$('a[href="#pins"]')[0]};
      const modals = {about:$$('#modal-about')[0],contact:$$('#modal-contact')[0],privacy:$$('#modal-privacy')[0],pins:$$('#modal-pins')[0]};
      function openModal(key){const m=modals[key];if(!m)return;m.classList.add('open');const f=m.querySelector('.closex');if(f)f.focus();if(key==='pins')loadPins();}
      function closeModal(key){const m=modals[key];if(m)m.classList.remove('open');}
      Object.entries(openers).forEach(([k,el])=>{if(!el)return;el.addEventListener('click',e=>{e.preventDefault();openModal(k);});});
      document.addEventListener('click',e=>{const c=e.target.getAttribute&&e.target.getAttribute('data-close');if(c)closeModal(c);});
      window.addEventListener('keydown',e=>{if(e.key==='Escape'){Object.values(modals).forEach(m=>m.classList.remove('open'));}});

      const userLang = (navigator.language || navigator.userLanguage || 'en').split('-')[0];
      const supportedLang = i18n.packs[userLang] ? userLang : 'en';
      document.getElementById('thought').placeholder = i18n.get('placeholder', supportedLang);
      document.getElementById('shift').textContent = i18n.get('shift_btn', supportedLang);
      modeButtons.forEach(btn => {
          const style = btn.dataset.style;
          btn.textContent = i18n.get(`modes.${style}`, supportedLang);
      });
    });
  </script>
</body>
</html>

